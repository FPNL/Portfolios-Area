(function(t){function e(e){for(var s,n,r=e[0],c=e[1],l=e[2],u=0,p=[];u<r.length;u++)n=r[u],i[n]&&p.push(i[n][0]),i[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,r=1;r<a.length;r++){var c=a[r];0!==i[c]&&(s=!1)}s&&(o.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},i={app:0},o=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0824":function(t,e,a){"use strict";var s=a("371a"),i=a.n(s);i.a},"107c":function(t,e,a){"use strict";var s=a("ddbf"),i=a.n(s);i.a},1715:function(t,e,a){"use strict";var s=a("371b"),i=a.n(s);i.a},1901:function(t,e,a){},"1c2d":function(t,e,a){},"2b47":function(t,e,a){"use strict";var s=a("5a51"),i=a.n(s);i.a},"371a":function(t,e,a){},"371b":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var s=a("bc3a"),i=a.n(s),o=(a("4989"),a("9062")),n=a.n(o),r=(a("e40d"),a("427f")),c=a.n(r),l=a("7bb1"),d=a("2b0e"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("alert"),a("div",{attrs:{id:"container"}},[a("router-view")],1)],1)},p=[],m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-alert"},t._l(t.messages,function(e,s){return a("div",{key:s,staticClass:"alert alert-dismissible",class:"alert-"+e.status},[t._v("\n    "+t._s(e.message)+"\n    "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.removeMessage(s)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}))},v=[],g=(a("ac6a"),{name:"Alert",data:function(){return{messages:[]}},methods:{updateMessage:function(t,e){var a=Math.floor(new Date/1e3);this.messages.push({message:t,status:e,timestamp:a}),this.removeMessageWithTiming(a)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var e=this;setTimeout(function(){e.messages.forEach(function(a,s){a.timestamp===t&&e.messages.splice(s,1)})},1500)}},created:function(){var t=this;t.$bus.$on("message:push",function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(e,a)})}}),f=g,h=(a("1715"),a("2877")),_=Object(h["a"])(f,m,v,!1,null,null,null);_.options.__file="Alert.vue";var b=_.exports,C={components:{Alert:b},methods:{},created:function(){}},x=C,k=(a("5c0b"),Object(h["a"])(x,u,p,!1,null,null,null));k.options.__file="App.vue";var y=k.exports,w=a("8c4f"),$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light justify-content-between"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"TheHomeProducts"}}},[t._v("Navbar")]),a("div",{staticClass:"d-flex"},[a("ul",[a("li",{staticClass:"li1",on:{mouseover:function(e){t.mouseOver(!0)},mouseout:function(e){t.mouseOver(!1)}}},[a("router-link",{staticClass:"hover_for",attrs:{to:{name:"TheHomeCheckOut"}}},[t._v("購物車")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.codidi,expression:"codidi"}],staticClass:" showOrder"},[a("admin-cart-list",{attrs:{page:"no"}})],1)],1)]),a("router-link",{staticClass:"mx-4",attrs:{to:{name:"Login"}}},[t._v("登入")])],1)],1),a("router-view")],1)},P=[],M=a("1157"),O=a.n(M),A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.cart.total?a("table",{staticClass:"table w-75 mx-auto"},[t._m(0),a("tbody",t._l(t.cart.carts,function(e){return a("tr",{key:e.id},[a("td",{staticClass:"align-middle"},[a("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(a){t.delCart(e.id)}}},[a("i",{staticClass:"far fa-trash-alt"})])]),a("td",{staticClass:"align-middle"},[t._v("\n          "+t._s(e.product.title)+"\n          "),e.coupon?a("div",{staticClass:"text-success"},[t._v("\n            已套用優惠券\n          ")]):t._e()]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.qty)+"/"+t._s(e.product.unit))]),a("td",{staticClass:"align-middle text-right"},[t._v(t._s(t._f("currency")(e.final_total)))])])})),a("tfoot",[a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("總計")]),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.cart.total)))])]),a("tr",[t.cart.final_total<t.cart.total?a("td",{staticClass:"text-right text-success",attrs:{colspan:"3"}},[t._v("折扣價")]):t._e(),t.cart.final_total<t.cart.total?a("td",{staticClass:"text-right text-success"},[t._v(t._s(t._f("currency")(t.cart.final_total)))]):t._e()]),"no"!==t.page?a("tr",[a("td",{attrs:{colspan:"4"}},[a("div",{staticClass:"input-group input-group-sm"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"},on:{click:t.useCoupon}},[t._v("\n                套用優惠碼\n              ")])])])])]):t._e(),"no"!==t.page?a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"3"}}),a("td",{staticClass:"text-right"},["home"===t.page?a("a",{staticClass:"btn btn-info btn-lg text-white",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.goChange(e)}}},[t._v("付款去~")]):t._e(),"eProduct"===t.page?a("router-link",{staticClass:"btn btn-info btn-lg text-white",attrs:{to:{name:"TheAdminCheckOut"}}},[t._v("付款去~")]):t._e()],1)]):t._e()])]):t._e()])},L=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th"),a("th",[t._v("品名")]),a("th",[t._v("數量")]),a("th",{attrs:{width:"80"}},[t._v("單價")])])}],E={name:"AdminCartList",props:["page"],data:function(){return{cart:{},code:""}},components:{},methods:{getCart:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("forpeter","/cart");this.$http.get(e).then(function(e){console.log("getCart",e),e.data.success?t.cart=e.data.data:t.$bus.$emit("message:push",e.data.message,"danger")})},delCart:function(t){var e=this,a=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("forpeter","/cart/").concat(t);this.$http.delete(s).then(function(t){console.log("delCart",t),t.data.success?a.$bus.$emit("message:push",t.data.message,"warning"):a.$bus.$emit("message:push",t.data.message,"danger"),e.getCart()})},useCoupon:function(){var t=this,e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("forpeter","/coupon");this.$http.post(a,{data:{code:e.code}}).then(function(a){console.log("useCoupon",a),a.data.success?(e.$bus.$emit("message:push",a.data.message,"success"),console.log("use coupon success")):e.$bus.$emit("message:push",a.data.message,"danger"),t.getCart(),e.code=""})},goChange:function(){this.$emit("goChange")}},created:function(){var t=this;t.getCart(),t.$bus.$on("getCart",function(){t.getCart()})}},N=E,T=Object(h["a"])(N,A,L,!1,null,null,null);T.options.__file="AdminCartList.vue";var j=T.exports,D={name:"Home",data:function(){return{codidi:!1}},components:{AdminCartList:j},methods:{mouseOver:function(t){this.codidi=t}},created:function(){this.$router.push({name:"TheHomeProducts"})}},F=D,q=(a("a1e4"),Object(h["a"])(F,$,P,!1,null,"747c6125",null));q.options.__file="Home.vue";var H=q.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col-2"},[a("div",{staticClass:"nav flex-column nav-pills",attrs:{id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"}},[a("a",{staticClass:"nav-link active",attrs:{id:"v-pills-home-tab","data-toggle":"pill",href:"#v-pills-home",role:"tab","aria-controls":"v-pills-home","aria-selected":"true"},on:{click:function(e){e.preventDefault(),t.custapi="forpeter"}}},[t._v("男裝")]),a("a",{staticClass:"nav-link",attrs:{id:"v-pills-profile-tab","data-toggle":"pill",href:"#v-pills-profile",role:"tab","aria-controls":"v-pills-profile","aria-selected":"false"},on:{click:function(e){e.preventDefault(),t.custapi="forwomen"}}},[t._v("女裝")]),a("a",{staticClass:"nav-link",attrs:{id:"v-pills-messages-tab","data-toggle":"pill",href:"#v-pills-messages",role:"tab","aria-controls":"v-pills-messages","aria-selected":"false"},on:{click:function(e){e.preventDefault(),t.custapi="forkids"}}},[t._v("童裝")]),a("a",{staticClass:"nav-link",attrs:{id:"v-pills-settings-tab","data-toggle":"pill",href:"#v-pills-settings",role:"tab","aria-controls":"v-pills-settings","aria-selected":"false"},on:{click:function(e){e.preventDefault(),t.custapi="foract"}}},[t._v("活動特賣")])])]),a("div",{staticClass:"tab-content col-10",attrs:{id:"v-pills-tabContent"}},[a("div",{staticClass:"tab-pane fade show active",attrs:{id:"v-pills-home",role:"tabpanel","aria-labelledby":"v-pills-home-tab"}},["forpeter"==t.custapi?a("HomeProductsFloatModal",{attrs:{cusapi:t.custapi}}):t._e()],1),a("div",{staticClass:"tab-pane fade",attrs:{id:"v-pills-profile",role:"tabpanel","aria-labelledby":"v-pills-profile-tab"}},["forwomen"==t.custapi?a("HomeProductsFloatModal",{attrs:{cusapi:t.custapi}}):t._e()],1),a("div",{staticClass:"tab-pane fade",attrs:{id:"v-pills-messages",role:"tabpanel","aria-labelledby":"v-pills-messages-tab"}},["forkids"==t.custapi?a("HomeProductsFloatModal",{attrs:{cusapi:t.custapi}}):t._e()],1),t._m(0)]),a("div",{staticClass:"col-9"})])},S=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-pane fade",attrs:{id:"v-pills-settings",role:"tabpanel","aria-labelledby":"v-pills-settings-tab"}},[t._v("\n      你還期待著特賣活動阿？ "),a("br"),t._v("\n      2020年2/31日準時開賣！\n    ")])}],I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("loading",{attrs:{active:t.status.isLoading},on:{"update:active":function(e){t.$set(t.status,"isLoading",e)}}}),a("div",{staticClass:"card_group"},t._l(t.products,function(e,s){return e.is_enabled?a("div",{key:s,staticClass:"card border-0 shadow-sm mx-1 my-3 cusor_all",on:{click:function(a){t.openModal(e)}}},[a("div",{staticStyle:{height:"300px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+e.image+" ) "}}),a("div",{staticClass:"card-body"},[a("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v("分類")]),a("h5",{staticClass:"card-title"},[a("a",{staticClass:"text-dark",attrs:{href:"#"}},[t._v(t._s(e.title))])]),a("p",{staticClass:"card-text"},[t._v(t._s(e.content))]),a("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[e.price?t._e():a("div",{staticClass:"h5"},[t._v(t._s(e.origin_price)+" 元")]),e.price?a("del",{staticClass:"h6"},[t._v("原價 "+t._s(e.origin_price)+" 元")]):t._e(),e.price?a("div",{staticClass:"h5"},[t._v("現在只要 "+t._s(e.price)+" 元")]):t._e()])])]):t._e()})),a("AdminEmulateProductsFloatModal",{attrs:{product:t.product,cusapi:t.cusapi}})],1)},z=[],W=(a("f751"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[a("div",{staticClass:"modal-header bg-primary text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v(t._s(t.product.title)+" ")])]),t._m(0)]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("img",{staticClass:"img-fluid",attrs:{src:t.product.image,alt:""}})]),a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"form-group"},[a("p",[t._v(t._s(t.product.title)+" ")])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"origin_price"}},[t._v("原價")]),t.product.price?t._e():a("div",{staticClass:"h5"},[t._v(t._s(t.product.origin_price)+" 元")]),a("div",[t.product.price?a("del",{staticClass:"h5"},[t._v(t._s(t.product.origin_price)+" 元")]):t._e()])]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("售價")]),t.product.price?a("div",{staticClass:"h5"},[t._v(" "+t._s(t.product.price)+" 元")]):t._e()])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"description"}},[t._v("產品描述")]),a("p",[t._v(t._s(t.product.description)+" ")])]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"content"}},[t._v("說明內容")]),a("p",[t._v(t._s(t.product.content)+" ")])])])])])]),a("div",{staticClass:"modal-footer"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.qty,expression:"qty"}],attrs:{name:"qyt",id:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.qty=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"1",selected:""}},[t._v(" 1 "+t._s(t.product.unit)+" ")]),t._l(9,function(e,s){return a("option",{key:s,domProps:{value:e+1}},[t._v(" "+t._s(e+1)+" "+t._s(t.product.unit))])})],2),a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.addToCart(t.product.id,t.qty)}}},[t._v("確認")])])])])])}),V=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],J={name:"AdminEmulateProductsFloatModal",props:["product","isNew","cusapi"],data:function(){return{qty:1}},methods:{addToCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat(a.cusapi,"/cart"),i={product_id:t,qty:e};console.log(i),this.$http.post(s,{data:i}).then(function(t){console.log("addToCart success",t),t.data.success?(O()("#productModal").modal("hide"),a.qty=1,a.$bus.$emit("getCart")):(console.log("addToCart failed, try again"),a.$bus.$emit("message:push",t.data.message,"danger"),O()("#productModal").modal("hide"))})}},created:function(){var t=this;t.$bus.$on("addCart",function(e){return t.addToCart(e)})}},U=J,G=Object(h["a"])(U,W,V,!1,null,null,null);G.options.__file="AdminEmulateProductsFloatModal.vue";var K=G.exports,Q={name:"HomeProductsFloatModal",props:{cusapi:String},data:function(){return{products:"",product:{},pagination:{},status:{isLoading:!1,moreLoading:!1,cartLoading:!1}}},components:{AdminEmulateProductsFloatModal:K},methods:{getProducts:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this;t.status.isLoading=!0;var e="".concat("https://vue-course-api.hexschool.io","/api/").concat(t.cusapi,"/products/all");this.$http.get(e).then(function(e){e.data.success?(console.log("geteProducts",e),t.products=e.data.products,t.pagination=e.data.pagination):t.$bus.$emit("message:push",e.data.message,"danger"),t.status.isLoading=!1})},openModal:function(t){this.status.isLoading=!0,this.product=Object.assign({},t),O()("#productModal").modal("show"),this.status.isLoading=!1}},watch:{cusapi:function(){this.getProducts()}},created:function(){this.getProducts()}},R=Q,X=(a("7f84"),Object(h["a"])(R,I,z,!1,null,"3dd5b366",null));X.options.__file="HomeProductsFloatModal.vue";var Y=X.exports,Z={name:"TheHomeProducts",data:function(){return{custapi:"forpeter"}},components:{HomeProductsFloatModal:Y},methods:{},created:function(){}},tt=Z,et=Object(h["a"])(tt,B,S,!1,null,null,null);et.options.__file="TheHomeProducts.vue";var at=et.exports,st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.goCheck?t._e():a("AdminCartList",{attrs:{page:"home"},on:{goChange:t.changeValue}}),t.goCheck?a("TheAdminCheckOut"):t._e()],1)},it=[],ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-5 row justify-content-center"},[t.orderID?t._e():a("form",{staticClass:"col-6 mr-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useremail"}},[t._v("Email")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("email")},attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email","data-vv-as":"E-Mail",required:""},domProps:{value:t.form.user.email},on:{input:function(e){e.target.composing||t.$set(t.form.user,"email",e.target.value)}}}),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("email")))])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[t._v("收件人姓名")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("name")},attrs:{type:"text",name:"name",id:"username",placeholder:"輸入姓名","data-vv-as":"姓名"},domProps:{value:t.form.user.name},on:{input:function(e){e.target.composing||t.$set(t.form.user,"name",e.target.value)}}}),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("name")))])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"usertel"}},[t._v("收件人電話")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|digits:10",expression:"'required|digits:10'"},{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("tel")},attrs:{type:"tel",name:"tel",id:"usertel",placeholder:"請輸入電話"},domProps:{value:t.form.user.tel},on:{input:function(e){e.target.composing||t.$set(t.form.user,"tel",e.target.value)}}}),t.errors.has("tel")?a("span",{staticClass:"text-danger"},[t._v("手機號碼為10碼")]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useraddress"}},[t._v("收件人地址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("address")},attrs:{type:"address",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(e){e.target.composing||t.$set(t.form.user,"address",e.target.value)}}}),t.errors.has("address")?a("span",{staticClass:"text-danger"},[t._v("地址欄位不得留空")]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useraddress"}},[t._v("留言")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"",cols:"30",rows:"3"},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}})]),a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-danger",on:{click:function(e){return e.preventDefault(),t.postOrder(e)}}},[t._v("送出訂單")])])]),t.orderID?a("form",{staticClass:"col-md-8",on:{submit:function(e){return e.preventDefault(),t.payOrder(e)}}},[a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.order.products,function(e){return a("tr",{key:e.id},[e.product.title?a("td",{staticClass:"align-middle"},[t._v(t._s(e.product.title))]):t._e(),a("td",{staticClass:"align-middle"},[t._v(t._s(e.qty)+"/"+t._s(e.product.unit))]),a("td",{staticClass:"align-middle text-right"},[t._v(t._s(e.final_total))])])})),a("tfoot",[a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),a("td",{staticClass:"text-right"},[t._v(t._s(t.order.total))])])])]),a("table",{staticClass:"table"},[a("tbody",[a("tr",[a("th",{attrs:{width:"100"}},[t._v("Email")]),t.order.user?a("td",[t._v(t._s(t.order.user.email))]):t._e()]),a("tr",[a("th",[t._v("姓名")]),t.order.user.name?a("td",[t._v(t._s(t.order.user.name))]):t._e()]),a("tr",[a("th",[t._v("收件人電話")]),a("td",[t._v(t._s(t.order.user.tel))])]),a("tr",[a("th",[t._v("收件人地址")]),a("td",[t._v(t._s(t.order.user.address))])]),a("tr",[a("th",[t._v("付款狀態")]),a("td",[t.order.is_paid?a("span",{staticClass:"text-success"},[t._v("付款完成")]):a("span",[t._v("尚未付款")])])])])]),!1===t.order.is_paid?a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-danger",on:{click:function(e){return e.preventDefault(),t.payOrder(e)}}},[t._v("確認付款去")])]):t._e()]):t._e()])},nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v("品名")]),a("th",[t._v("數量")]),a("th",[t._v("單價")])])}],rt={name:"TheAdminCheckOut",props:{},data:function(){return{order:{},orderID:"",form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{payOrder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("forpeter","/pay/").concat(t.orderID);this.$http.post(e).then(function(e){console.log("payOrder",e),e.data.success?(t.$bus.$emit("message:push",e.data.message,"success"),t.getOrder()):t.$bus.$emit("message:push",e.data.message,"danger")})},getOrder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("forpeter","/order/").concat(t.orderID);this.$http.get(e).then(function(e){console.log("delCart",e),e.data.success?(t.order=e.data.order,console.log(t.order)):t.$bus.$emit("message:push",e.data.message,"danger")})},postOrder:function(){var t=this,e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("forpeter","/order");this.$validator.validate().then(function(s){s?t.$http.post(a,{data:e.form}).then(function(t){console.log("postOrder",t),t.data.success?(e.$bus.$emit("message:push",t.data.message,"success"),console.log("postOrder success"),e.orderID=t.data.orderId,e.getOrder()):e.$bus.$emit("message:push",t.data.message,"danger")}):e.$bus.$emit("message:push","欄位不完整","danger")})}},created:function(){console.log(this.order)}},ct=rt,lt=Object(h["a"])(ct,ot,nt,!1,null,null,null);lt.options.__file="TheAdminCheckOut.vue";var dt=lt.exports,ut={name:"TheHomeCheckOut",props:{},data:function(){return{goCheck:!1,page:"home"}},components:{AdminCartList:j,TheAdminCheckOut:dt},methods:{changeValue:function(){this.goCheck=!this.goCheck}},created:function(){}},pt=ut,mt=Object(h["a"])(pt,st,it,!1,null,null,null);mt.options.__file="TheHomeCheckOut.vue";var vt=mt.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{staticClass:"form-signin",on:{submit:function(e){return e.preventDefault(),t.signin(e)}}},[a("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("請登入")]),a("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("帳號")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"帳號",required:"",autofocus:""},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),a("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("密碼")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"密碼",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),t._m(0),a("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[t._v("登入")])])])},ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"checkbox mb-3"},[a("label",[a("input",{attrs:{type:"checkbox",value:"remember-me"}}),t._v(" 記住登入訊息\n      ")])])}],ht={name:"Login",data:function(){return{user:{username:"",password:""}}},methods:{signin:function(){var t=this,e=this,a="".concat("https://vue-course-api.hexschool.io","/admin/signin");this.$http.post(a,e.user).then(function(e){console.log("signin",e.data),t.$router.push({name:"TheAdminProducts"}),t.$bus.$emit("message:push","歡迎回來","success")})}}},_t=ht,bt=(a("89d7"),Object(h["a"])(_t,gt,ft,!1,null,"3644ddc1",null));bt.options.__file="Login.vue";var Ct=bt.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("admin-navbar"),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("admin-sidebar")],1)]),a("main",{staticClass:"col-md-9 ml-sm-auto col-lg-10 px-4",attrs:{role:"main"}},[a("router-view")],1)],1)},kt=[],yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow"},[a("router-link",{staticClass:"navbar-brand col-sm-3 col-md-2 mr-0 text-white",staticStyle:{"user-select":"none"},attrs:{to:{name:"TheHomeProducts"}}},[t._v("慢工出細活商店")]),a("ul",{staticClass:"navbar-nav px-3"},[a("li",{staticClass:"nav-item text-nowrap"},[a("a",{staticClass:"nav-link",staticStyle:{"user-select":"none"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.signout(e)}}},[t._v("登出")])])])],1)},wt=[],$t={name:"AdminNavbar",methods:{signout:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/logout");this.$http.post(e).then(function(e){console.log("signout",e.data),e.data.success&&t.$router.push("/home")})}}},Pt=$t,Mt=(a("2b47"),Object(h["a"])(Pt,yt,wt,!1,null,"aefc07e2",null));Mt.options.__file="AdminNavbar.vue";var Ot=Mt.exports,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"col-md-2 d-none d-md-block bg-light sidebar"},[a("div",{staticClass:"sidebar-sticky"},[t._m(0),a("ul",{staticClass:"nav flex-column"},[a("li",{staticClass:"nav-item active",on:{click:function(e){t.choose="product"}}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"TheAdminProducts"}}},[a("span",{class:{"text-danger":"product"==t.choose},attrs:{"data-feather":"file"}},[t._v("商品登錄")])])],1),a("li",{staticClass:"nav-item",on:{click:function(e){t.choose="coupon"}}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"TheAdminCoupons"}}},[a("span",{class:{"text-danger":"coupon"==t.choose},attrs:{"data-feather":"shopping-cart"}},[t._v("優惠券登錄")])])],1),a("li",{staticClass:"nav-item",on:{click:function(e){t.choose="order"}}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"TheAdminOrders"}}},[a("span",{class:{"text-danger":"order"==t.choose},attrs:{"data-feather":"users"}},[t._v("訂單收錄")])])],1)]),t._m(1),a("ul",{staticClass:"nav flex-column mb-2"},[a("li",{staticClass:"nav-item",on:{click:function(e){t.choose="eproduct"}}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"TheAdminEmulateProdoucts"}}},[a("span",{class:{"text-danger":"eproduct"==t.choose},attrs:{"data-feather":"file-text"}},[t._v("商品列表")])])],1)])])])},Lt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h4",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[a("span",{staticStyle:{"user-select":"none"}},[t._v("賣家管理")]),a("a",{staticClass:"d-flex align-items-center text-muted",attrs:{href:"#"}},[a("span",{attrs:{"data-feather":"plus-circle"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h4",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[a("span",{staticStyle:{"user-select":"none"}},[t._v("模擬買家")]),a("a",{staticClass:"d-flex align-items-center text-muted",attrs:{href:"#"}},[a("span",{attrs:{"data-feather":"plus-circle"}})])])}],Et={name:"AdminSidebar",data:function(){return{choose:"product"}}},Nt=Et,Tt=Object(h["a"])(Nt,At,Lt,!1,null,null,null);Tt.options.__file="AdminSidebar.vue";var jt=Tt.exports,Dt={name:"Admin",components:{AdminNavbar:Ot,AdminSidebar:jt},methods:{},created:function(){}},Ft=Dt,qt=(a("107c"),Object(h["a"])(Ft,xt,kt,!1,null,"3d9ee0c6",null));qt.options.__file="Admin.vue";var Ht=qt.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.status.isLoading},on:{"update:active":function(e){t.$set(t.status,"isLoading",e)}}}),a("div",{staticClass:"mt4 d-flex justify-content-between"},[a("div",[a("span",{staticClass:"badge badge-pill mx-2",class:{"badge-primary":"forpeter"==t.click,"badge-light":"forpeter"!==t.click},on:{click:function(e){t.clickChange("forpeter")}}},[t._v("男裝")]),a("span",{staticClass:"badge badge-pill mx-1",class:{"badge-primary":"forwomen"==t.click,"badge-light":"forwomen"!==t.click},on:{click:function(e){t.clickChange("forwomen")}}},[t._v("女裝")]),a("span",{staticClass:"badge badge-pill mx-1",class:{"badge-primary":"forkids"==t.click,"badge-light":"forkids"!==t.click},on:{click:function(e){t.clickChange("forkids")}}},[t._v("童裝")])]),a("button",{staticClass:" btn btn-primary",on:{click:function(e){t.openModal(!0)}}},[t._v("新增產品")])]),a("table",{staticClass:"table mt-4"},[t._m(0),a("tbody",t._l(t.products,function(e){return a("tr",{key:e.id,staticClass:"text-center"},[a("td",[t._v(t._s(e.category))]),a("td",{staticClass:"text-left"},[t._v(t._s(e.title))]),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(e.origin_price)))]),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(e.price)))]),a("td",[e.is_enabled?a("span",{staticClass:"text-success"},[t._v("啟用")]):a("span",[t._v("未啟用")])]),a("td",[a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(a){t.openModal(!1,e)}}},[t._v("編輯")]),a("button",{staticClass:"btn btn-outline-danger btn-sm ml-1",on:{click:function(a){t.openDelModal(e)}}},[t._v("刪除")])])])}))]),a("AdminFloatModal",{attrs:{item:t.product,"is-new":t.isNew,click:t.click,belongModal:"product"},on:{"get-items":t.getProducts}}),a("BasePagination",{attrs:{pagination:t.pagination},on:{pagination:t.getProducts}}),a("BaseDeleteModal",{attrs:{product:t.product,value:t.del_value,click:t.click},on:{"get-product":t.getProducts}})],1)},St=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"text-center"},[a("th",{attrs:{width:"120"}},[t._v("分類")]),a("th",{staticClass:"text-left"},[t._v("產品名稱")]),a("th",{attrs:{width:"80"}},[t._v("原價")]),a("th",{attrs:{width:"80"}},[t._v("售價")]),a("th",{attrs:{width:"100"}},[t._v("是否啟用")]),a("th",{attrs:{width:"130"}},[t._v("編輯")])])])}],It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"FloatModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[a("div",{staticClass:"modal-header bg-dark text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},["product"==t.belongModal?a("span",[t._v("新增產品")]):t._e(),"coupon"==t.belongModal?a("span",[t._v("新增優惠券")]):t._e()]),t._m(0)]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},["product"==t.belongModal?a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"image"}},[t._v("輸入圖片網址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.image,expression:"item.image"}],staticClass:"form-control",attrs:{type:"text",id:"image",placeholder:"請輸入圖片連結"},domProps:{value:t.item.image},on:{input:function(e){e.target.composing||t.$set(t.item,"image",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"customFile"}},[t._v("或 上傳圖片\n                "),t.status.fileLoading?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()]),a("input",{ref:"files",staticClass:"form-control",attrs:{type:"file",id:"customFile"},on:{change:t.uploadFile}})]),a("img",{staticClass:"img-fluid",attrs:{src:t.item.image,alt:""}})]):t._e(),a("div",{class:{"col-12":"coupon"==t.belongModal,"col-8":"product"==t.belongModal}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("標題")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.title,expression:"item.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入名稱"},domProps:{value:t.item.title},on:{input:function(e){e.target.composing||t.$set(t.item,"title",e.target.value)}}})]),"product"==t.belongModal?a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"category"}},[t._v("分類")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.category,expression:"item.category"}],staticClass:"form-control",attrs:{type:"text",id:"category",placeholder:"請輸入分類"},domProps:{value:t.item.category},on:{input:function(e){e.target.composing||t.$set(t.item,"category",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("單位")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.unit,expression:"item.unit"}],staticClass:"form-control",attrs:{type:"unit",id:"unit",placeholder:"請輸入單位"},domProps:{value:t.item.unit},on:{input:function(e){e.target.composing||t.$set(t.item,"unit",e.target.value)}}})])]):t._e(),"product"==t.belongModal?a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"origin_price"}},[t._v("原價")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.origin_price,expression:"item.origin_price"}],staticClass:"form-control",attrs:{type:"number",id:"origin_price",placeholder:"請輸入原價"},domProps:{value:t.item.origin_price},on:{input:function(e){e.target.composing||t.$set(t.item,"origin_price",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("售價")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.price,expression:"item.price"}],staticClass:"form-control",attrs:{type:"number",id:"price",placeholder:"請輸入售價"},domProps:{value:t.item.price},on:{input:function(e){e.target.composing||t.$set(t.item,"price",e.target.value)}}})])]):t._e(),"product"==t.belongModal?a("hr"):t._e(),"product"==t.belongModal?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"description"}},[t._v("產品描述")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.item.description,expression:"item.description"}],staticClass:"form-control",attrs:{type:"text",id:"description",placeholder:"請輸入產品描述"},domProps:{value:t.item.description},on:{input:function(e){e.target.composing||t.$set(t.item,"description",e.target.value)}}})]):t._e(),"product"==t.belongModal?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"content"}},[t._v("說明內容")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.item.content,expression:"item.content"}],staticClass:"form-control",attrs:{type:"text",id:"content",placeholder:"請輸入產品說明內容"},domProps:{value:t.item.content},on:{input:function(e){e.target.composing||t.$set(t.item,"content",e.target.value)}}})]):t._e(),"coupon"==t.belongModal?a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"origin_price"}},[t._v("折扣百分比")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.percent,expression:"item.percent"}],staticClass:"form-control",attrs:{type:"number",id:"origin_price",placeholder:"請輸入折扣百分比"},domProps:{value:t.item.percent},on:{input:function(e){e.target.composing||t.$set(t.item,"percent",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("到期日")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.due_date,expression:"item.due_date"}],staticClass:"form-control",attrs:{type:"date",id:"price",placeholder:"請輸入期限"},domProps:{value:t.item.due_date},on:{input:function(e){e.target.composing||t.$set(t.item,"due_date",e.target.value)}}})])]):t._e(),"coupon"==t.belongModal?a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"price"}},[t._v("優惠券序號")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.code,expression:"item.code"}],staticClass:"form-control",attrs:{type:"text",id:"price",placeholder:"請輸入序號"},domProps:{value:t.item.code},on:{input:function(e){e.target.composing||t.$set(t.item,"code",e.target.value)}}})])]):t._e(),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.is_enabled,expression:"item.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.item.is_enabled)?t._i(t.item.is_enabled,null)>-1:t._q(t.item.is_enabled,1)},on:{change:function(e){var a=t.item.is_enabled,s=e.target,i=s.checked?1:0;if(Array.isArray(a)){var o=null,n=t._i(a,o);s.checked?n<0&&t.$set(t.item,"is_enabled",a.concat([o])):n>-1&&t.$set(t.item,"is_enabled",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.item,"is_enabled",i)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("\n                  是否啟用\n                ")])])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.buildItem}},[t._v("確認")])])])])])},zt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],Wt={name:"AdminfloatModal",props:["item","isNew","click","belongModal"],data:function(){return{status:{fileLoading:!1}}},methods:{buildItem:function(){var t=this,e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat(e.click,"/admin/").concat(e.belongModal),s="post";e.isNew||(a="".concat("https://vue-course-api.hexschool.io","/api/").concat(e.click,"/admin/").concat(e.belongModal,"/").concat(e.item.id),s="put"),this.$http[s](a,{data:e.item}).then(function(a){console.log("build"+e.belongModal+"success",a),a.data.success?O()("#FloatModal").modal("hide"):(console.log("build"+e.belongModal+"failed, try again"),e.$bus.$emit("message:push",a.data.message,"danger"),O()("#FloatModal").modal("hide")),t.$emit("get-items")})},uploadFile:function(){var t=this.$refs.files.files[0],e=this,a=new FormData;e.status.fileLoading=!0,a.append("file-to-uploads",t);var s="".concat("https://vue-course-api.hexschool.io","/api/").concat(e.click,"/admin/upload");this.$http.post(s,a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){console.log("uploadFile",t),t.data.success?e.$set(e.item,"image",t.data.imageUrl):(console.log("uploadFile failed, try again"),e.$bus.$emit("message:push",t.data.message,"danger")),e.status.fileLoading=!1})}}},Vt=Wt,Jt=Object(h["a"])(Vt,It,zt,!1,null,null,null);Jt.options.__file="AdminFloatModal.vue";var Ut=Jt.exports,Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"delProductModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(0),a("div",{staticClass:"modal-body"},[t._v("\n        是否刪除 "),a("strong",{staticClass:"text-danger"},[t._v(t._s(t.product.title))]),t._v(" (刪除後將無法恢復)。\n      ")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.delProduct}},[t._v("確認刪除")])])])])])},Kt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-danger text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v("刪除產品")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],Qt={name:"BaseDeleteModal",props:["product","value","click"],data:function(){return{}},methods:{delProduct:function(){var t=this,e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat(e.click,"/admin/").concat(e.value,"/").concat(e.product.id);this.$http.delete(a).then(function(e){console.log("delProduct success",e),e.data.success?O()("#delProductModal").modal("hide"):(console.log("delProduct failed, try again"),O()("#delProductModal").modal("hide")),t.$emit("get-product")})}}},Rt=Qt,Xt=Object(h["a"])(Rt,Gt,Kt,!1,null,null,null);Xt.options.__file="BaseDeleteModal.vue";var Yt=Xt.exports,Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination justify-content-center"},[a("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_pre}},[a("a",{staticClass:"page-link",attrs:{href:"#",tabindex:"-1"},on:{click:function(e){t.changePagination(t.pagination.current_page-1)}}},[t._v("Previous")])]),t._l(t.pagination.total_pages,function(e,s){return a("li",{key:s,staticClass:"page-item",class:{active:t.pagination.current_page==e}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){t.changePagination(e)}}},[t._v(t._s(e))])])}),a("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_next}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){t.changePagination(t.pagination.current_page+1)}}},[t._v("Next")])])],2)])},te=[],ee=(a("c5f6"),{name:"BasePagination",props:{pagination:Object},methods:{changePagination:function(t){this.$emit("pagination",Number(t))}}}),ae=ee,se=Object(h["a"])(ae,Zt,te,!1,null,null,null);se.options.__file="BasePagination.vue";var ie=se.exports,oe={name:"TheAdminProducts",data:function(){return{products:"",click:"forpeter",product:{},del_value:"product",pagination:{},isNew:!1,status:{isLoading:!1}}},components:{AdminFloatModal:Ut,BaseDeleteModal:Yt,BasePagination:ie},methods:{getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this;e.status.isLoading=!0;var a="".concat("https://vue-course-api.hexschool.io","/api/").concat(e.click,"/admin/products?page=").concat(t);this.$http.get(a).then(function(t){t.data.success?(console.log("getProducts",t),e.products=t.data.products,e.pagination=t.data.pagination):e.$bus.$emit("message:push",t.data.message,"danger"),e.status.isLoading=!1})},clickChange:function(t){this.click=t,this.getProducts()},openModal:function(t,e){t?(this.product={},this.isNew=!0):(this.product=Object.assign({},e),this.isNew=!1),O()("#FloatModal").modal("show")},openDelModal:function(t){this.product=Object.assign({},t),O()("#delProductModal").modal("show")}},created:function(){this.getProducts()}},ne=oe,re=(a("ce46"),Object(h["a"])(ne,Bt,St,!1,null,"63c40c76",null));re.options.__file="TheAdminProducts.vue";var ce=re.exports,le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.status.isLoading},on:{"update:active":function(e){t.$set(t.status,"isLoading",e)}}}),a("div",{staticClass:"mt4 d-flex justify-content-between"},[a("div",[a("span",{staticClass:"badge badge-pill mx-2",class:{"badge-primary":"forpeter"==t.click,"badge-light":"forpeter"!==t.click},on:{click:function(e){t.clickChange("forpeter")}}},[t._v("男裝")]),a("span",{staticClass:"badge badge-pill mx-1",class:{"badge-primary":"forwomen"==t.click,"badge-light":"forwomen"!==t.click},on:{click:function(e){t.clickChange("forwomen")}}},[t._v("女裝")]),a("span",{staticClass:"badge badge-pill mx-1",class:{"badge-primary":"forkids"==t.click,"badge-light":"forkids"!==t.click},on:{click:function(e){t.clickChange("forkids")}}},[t._v("童裝")])]),a("button",{staticClass:"btn btn-primary",on:{click:function(e){t.openModal(!0)}}},[t._v("新增優惠券")])]),a("table",{staticClass:"table mt-4 w-75 mx-auto"},[t._m(0),a("tbody",t._l(t.coupons,function(e){return a("tr",{key:e.id,staticClass:"text-center"},[a("td",{staticClass:"text-left"},[t._v(t._s(e.title))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.percent))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.due_date))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.code))]),a("td",[e.is_enabled?a("span",{staticClass:"text-success"},[t._v("啟用")]):a("span",[t._v("未啟用")])]),a("td",[a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(a){t.openModal(!1,e)}}},[t._v("編輯")]),a("button",{staticClass:"btn btn-outline-danger btn-sm ml-3",on:{click:function(a){t.openDelModal(e)}}},[t._v("刪除")])])])}))]),t.pagination.total_pages>1?a("BasePagination",{attrs:{pagination:t.pagination},on:{pagination:t.getCoupons}}):t._e(),a("AdminFloatModal",{attrs:{item:t.coupon,"is-new":t.isNew,click:t.click,belongModal:"coupon"},on:{"get-items":t.getCoupons}}),a("BaseDeleteModal",{attrs:{product:t.coupon,value:t.del_value,click:t.click},on:{"get-product":t.getCoupons}})],1)},de=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"text-center"},[a("th",{staticClass:"text-left"},[t._v("名稱")]),a("th",{attrs:{width:"110"}},[t._v("折扣百分比")]),a("th",{attrs:{width:"120"}},[t._v("到期日")]),a("th",{staticClass:"text-right"},[t._v("序號")]),a("th",{attrs:{width:"100"}},[t._v("是否啟用")]),a("th",{attrs:{width:"200"}},[t._v("編輯")])])])}],ue={name:"TheAdminCoupons",data:function(){return{coupons:"",coupon:{},click:"forpeter",del_value:"coupon",pagination:{},isNew:!1,status:{isLoading:!1}}},components:{AdminFloatModal:Ut,BasePagination:ie,BaseDeleteModal:Yt},methods:{getCoupons:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this;e.status.isLoading=!0;var a="".concat("https://vue-course-api.hexschool.io","/api/").concat(e.click,"/admin/coupons?page=").concat(t);this.$http.get(a).then(function(t){t.data.success?(console.log("getCoupons",t),e.coupons=t.data.coupons,e.pagination=t.data.pagination):e.$bus.$emit("message:push",t.data.message,"danger"),e.status.isLoading=!1})},clickChange:function(t){this.click=t,this.getCoupons()},openModal:function(t,e){t?(this.coupon={},this.isNew=!0):(this.coupon=Object.assign({},e),this.isNew=!1),O()("#FloatModal").modal("show")},openDelModal:function(t){this.coupon=Object.assign({},t),O()("#delProductModal").modal("show")}},created:function(){this.getCoupons()}},pe=ue,me=(a("8ecf"),Object(h["a"])(pe,le,de,!1,null,"50e0143c",null));me.options.__file="TheAdminCoupons.vue";var ve=me.exports,ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.status.isLoading},on:{"update:active":function(e){t.$set(t.status,"isLoading",e)}}}),a("div",[a("span",{staticClass:"badge badge-pill mx-2",class:{"badge-primary":"forpeter"==t.click,"badge-light":"forpeter"!==t.click},on:{click:function(e){t.clickChange("forpeter")}}},[t._v("男裝")]),a("span",{staticClass:"badge badge-pill mx-1",class:{"badge-primary":"forwomen"==t.click,"badge-light":"forwomen"!==t.click},on:{click:function(e){t.clickChange("forwomen")}}},[t._v("女裝")]),a("span",{staticClass:"badge badge-pill mx-1",class:{"badge-primary":"forkids"==t.click,"badge-light":"forkids"!==t.click},on:{click:function(e){t.clickChange("forkids")}}},[t._v("童裝")])]),a("table",{staticClass:"table mt-4"},[t._m(0),a("tbody",t._l(t.orders,function(e){return a("tr",{key:e.id,staticClass:"text-center"},[a("td",[t._v(t._s(e.create_at))]),a("td",{staticClass:"text-left"},[t._v(t._s(e.user.email))]),a("td",{staticClass:"text-left"},t._l(e.products,function(e,s){return a("div",{key:s},[t._v(t._s(e.product.title)+" "+t._s(e.qty)+" "+t._s(e.product.unit))])})),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(e.total)))]),a("td",[e.is_paid?a("span",{staticClass:"text-success"},[t._v("已付款")]):a("span",[t._v("未付款")])])])}))]),t.pagination.total_pages>1?a("BasePagination",{attrs:{pagination:t.pagination},on:{pagination:t.getOrders}}):t._e()],1)},fe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"text-center"},[a("th",{attrs:{width:"120"}},[t._v("購買時間")]),a("th",{staticClass:"text-left",attrs:{width:"120"}},[t._v("E-mail")]),a("th",{staticClass:"text-left",attrs:{width:"220"}},[t._v("購買款項")]),a("th",{attrs:{width:"80"}},[t._v("應付金額")]),a("th",{attrs:{width:"100"}},[t._v("是否付款")])])])}],he={name:"TheAdminOrders",data:function(){return{orders:{},order:{},click:"forpeter",products:{},pagination:{},isNew:!1,status:{isLoading:!1}}},components:{BasePagination:ie},methods:{getOrders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this;e.status.isLoading=!0;var a="".concat("https://vue-course-api.hexschool.io","/api/").concat(e.click,"/admin/orders?page=").concat(t);this.$http.get(a,e.user).then(function(t){t.data.success?(console.log("getOrders",t),e.orders=t.data.orders,e.pagination=t.data.pagination):e.$bus.$emit("message:push",t.data.message,"danger"),e.status.isLoading=!1})},clickChange:function(t){this.click=t,this.getOrders()}},computed:{},created:function(){this.getOrders()}},_e=he,be=(a("e3db"),Object(h["a"])(_e,ge,fe,!1,null,"d63b788e",null));be.options.__file="TheAdminOrders.vue";var Ce=be.exports,xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.status.isLoading},on:{"update:active":function(e){t.$set(t.status,"isLoading",e)}}}),a("div",{staticClass:"row mt-4"},t._l(t.products,function(e,s){return a("div",{key:s,staticClass:"col-md-4 mb-4"},[a("div",{staticClass:"card border-0 shadow-sm"},[a("div",{staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+e.image+" ) "}}),a("div",{staticClass:"card-body"},[a("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v("分類")]),a("h5",{staticClass:"card-title"},[a("a",{staticClass:"text-dark",attrs:{href:"#"}},[t._v(t._s(e.title))])]),a("p",{staticClass:"card-text"},[t._v(t._s(e.content))]),a("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[e.price?t._e():a("div",{staticClass:"h5"},[t._v(t._s(e.origin_price)+" 元")]),e.price?a("del",{staticClass:"h6"},[t._v("原價 "+t._s(e.origin_price)+" 元")]):t._e(),e.price?a("div",{staticClass:"h5"},[t._v("現在只要 "+t._s(e.price)+" 元")]):t._e()])]),a("div",{staticClass:"card-footer d-flex"},[a("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{type:"button"},on:{click:function(a){t.openModal(!1,e)}}},[t.status.moreLoading?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n            查看更多\n          ")]),a("button",{staticClass:"btn btn-outline-danger btn-sm ml-auto",attrs:{type:"button"},on:{click:function(a){t.addtocart(e.id)}}},[t.status.carLoaging?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n            加到購物車\n          ")])])])])})),a("base-pagination",{attrs:{pagination:t.pagination},on:{pagination:t.getProducts}}),a("admin-cart-list",{staticClass:"mt-5",attrs:{page:"eProduct"}}),a("admin-emulate-products-float-modal",{attrs:{product:t.product,"is-new":t.isNew,cusapi:"forpeter"}})],1)},ke=[],ye={name:"TheAdminEmulateProdoucts",data:function(){return{products:"",product:{},page:"eProduct",del_value:"product",pagination:{},isNew:!1,status:{isLoading:!1,carLoaging:!1,moreLoading:!1}}},components:{AdminEmulateProductsFloatModal:K,AdminCartList:j,BasePagination:ie},methods:{getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this;e.status.isLoading=!0;var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("forpeter","/products?page=").concat(t);this.$http.get(a).then(function(t){t.data.success?(console.log("geteProducts",t),e.products=t.data.products,e.pagination=t.data.pagination):e.$bus.$emit("message:push",t.data.message,"danger"),e.status.isLoading=!1})},openModal:function(t,e){this.status.moreLoading=!0,t?(this.product={},this.isNew=!0):(this.product=Object.assign({},e),this.isNew=!1),O()("#productModal").modal("show"),this.status.moreLoading=!1},openDelModal:function(t){this.product=Object.assign({},t),O()("#delProductModal").modal("show")},addtocart:function(t){this.status.carLoaging=!0,this.$bus.$emit("addCart",t),this.status.carLoaging=!1}},created:function(){this.getProducts()}},we=ye,$e=(a("0824"),Object(h["a"])(we,xe,ke,!1,null,"840da3d4",null));$e.options.__file="TheAdminEmulateProdoucts.vue";var Pe=$e.exports;d["a"].use(w["a"]);var Me=new w["a"]({base:"",routes:[{path:"*",redirect:"/home"},{path:"/",name:"Home",component:H,children:[{path:"home",name:"TheHomeProducts",component:at},{path:"cart",name:"TheHomeCheckOut",component:vt}]},{path:"/login",name:"Login",component:Ct},{path:"/admin",name:"Admin",component:Ht,children:[{path:"products",name:"TheAdminProducts",component:ce,meta:{requiresAuth:!0}},{path:"coupons",name:"TheAdminCoupons",component:ve,meta:{requiresAuth:!0}},{path:"orders",name:"TheAdminOrders",component:Ce,meta:{requiresAuth:!0}},{path:"eproducts",name:"TheAdminEmulateProdoucts",component:Pe},{path:"check",name:"TheAdminCheckOut",component:dt}]}]});d["a"].prototype.$bus=new d["a"];var Oe=function(t){return new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(t)};d["a"].use(l["a"]),l["a"].Validator.localize("tw",c.a),d["a"].config.productionTip=!1,d["a"].prototype.$http=i.a,i.a.defaults.withCredentials=!0,d["a"].component("Loading",n.a),d["a"].filter("currency",Oe),Me.beforeEach(function(t,e,a){if(console.log("to",t,"from",e,"next",a),t.meta.requiresAuth){var s="".concat("https://vue-course-api.hexschool.io","/api/user/check");i.a.post(s).then(function(t){console.log("check",t.data),t.data.success?a():a({path:"/login"})})}else a()}),new d["a"]({router:Me,render:function(t){return t(y)}}).$mount("#app")},"5a51":function(t,e,a){},"5c0b":function(t,e,a){"use strict";var s=a("5e27"),i=a.n(s);i.a},"5e27":function(t,e,a){},"7f84":function(t,e,a){"use strict";var s=a("d5ad"),i=a.n(s);i.a},"86fe":function(t,e,a){},"89d7":function(t,e,a){"use strict";var s=a("b999"),i=a.n(s);i.a},"8ecf":function(t,e,a){"use strict";var s=a("b2b1"),i=a.n(s);i.a},a1e4:function(t,e,a){"use strict";var s=a("86fe"),i=a.n(s);i.a},b2b1:function(t,e,a){},b999:function(t,e,a){},ce46:function(t,e,a){"use strict";var s=a("1c2d"),i=a.n(s);i.a},d5ad:function(t,e,a){},ddbf:function(t,e,a){},e3db:function(t,e,a){"use strict";var s=a("1901"),i=a.n(s);i.a}});
//# sourceMappingURL=app.47a55cde.js.map